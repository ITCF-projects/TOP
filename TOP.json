{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "1.0.0",
  "title": "Meddelande",
  "$defs": {
    "Anknytningsavtal": {
      "type": "object",
      "description": "Ett anknytningsavtal säger att en person knutits till lärosätet och hur, men säger inte vad personen gör (det finns i\nRolltilldelning). Den vanligaste formen av anknytningsavtal är ett anställningsavtal. Ett annat exempel är när en\nprofessor muntligen bjuder in en forskarkollega från Harvard för att sprida stjärnglans genom ett löst samarbete. En\nkonsult som hyrs in på enstaka timmar i ett projekt, en bemanningskonsult som hyrs in på årsbasis, avtalet som tar in en\nföretags/industridoktorand, och ett beslut om att någon ges emeriti-status är andra exempel. Varje anknytningsavtal har\nen typ som säger hur personen knutits in till lärosätet (t.ex. \"emeritus\", \"anställd\", \"forskande gäst\" eller\n\"bemanningspersonal\"). Under ett långvarigt anknytningsavtal kan viss data naturligt variera utan att avtalet skrivs om.\nDessa har egna entitetstyper: * Under en _ersättningsperiod_ utgår ersättning - t.ex. lön - till personen. * Under en\n_omfattningsperiod_ finns en bestämd omfattning (dvs ett visst antal timmar eller timmar/vecka) av tid som personen\ntillför lärosätet. * Under en _frånvaroperiod_ minskar omfattningen t.ex. på grund av semester, tjänstledighet,\nsjukskrivningar, föräldraledighet eller liknande. * En _hemvistperiod_ säger var personen har sin organisatoriska hemvist\n- normalt där ens chef är. Till skillnad från Primula så skapas alltså inte ett nytt anknytningsavtal varje gång någon\nbyter lön, får tjänstledigt, eller byter enhet i organisationen, utan dessa varierar inom samma avtal. Det är mycket\nvanligt att behöva förmedla vilka avtalsperioder som motsvarar t.ex. \"anställningsliknande former\", och därför har\navtalsperioder ett flervärt \"tag\"-fält där sådan tolkad information kan läggas.",
      "allOf": [
        {"$ref": "#/$defs/MedObligatoriskIdentifierare"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "person": {
          "description": "Den person som detta anknytningsavtal gäller.",
          "$ref": "#/$defs/Person"
        },
        "typ": {
          "description": "Typ av anknytningsavtal, t.ex. \"anställning\", \"delegering\" eller \"muntligt avtal\".",
          "$ref": "#/$defs/Tagg"
        },
        "organisationellAvtalspart": {
          "description": "Den organisationsdel som är motpart i avtalet. För anställningsavtal är detta lärosätet som helhet, och vilken organisationsdel (t.ex. institution eller avdelning) personen har sin chef/ansvarige pekas ut via hemvistperioder. För muntliga avtal är motparten den institution eller liknande vars chef gjort överenskommelsen.",
          "$ref": "#/$defs/Organisationsdel"
        },
        "hemvistperioder": {
          "description": "Organisatorisk(a) hemvist(er) - på vilken organisationsdel placerar detta avtal just nu personen. Bara en får vara giltig åt gången, men det går här att lägga in både dåtida och framtida orghemvister om man kan och vill.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Hemvistperiod"
          }
        },
        "omfattningsperioder": {
          "description": "Omfattningar för detta anknytningsavtal.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Omfattningsperiod"
          }
        },
        "rolltilldelningar": {
          "description": "Rolltilldelningar i kontexten av detta avtal.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Rolltilldelning"
          }
        },
        "franvaroperioder": {
          "description": "Frånvaroperioder. Alla förhållanden som minskar omfattningen (.workSchedule) under någon period, t.ex. semester, tjänstledighet eller sjukskrivning.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Franvaroperiod"
          }
        },
        "lopandeErsattningar": {
          "description": "Lön eller ersättning. Kan vara flera, och kan variera under giltighetstiden. Lönetillägg för specifika rolltilldelningar (t.ex. prefekttillägg) läggs i rolltilldelningen.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/LopandeErsattning"
          }
        },
        "engangsersattningar": {
          "description": "Engångsersättningar för detta anknytningsavtal.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Engangsersattning"
          }
        },
        "begransningskod": {
          "description": "Begränsningskoden talar om varför någon inte har en fastanställning.",
          "type": "string"
        },
        "arHuvudavtal": {
          "description": "Om du, av någon anledning, inte kan hantera att personer omfattas av mer än ett avtal, ta det här avtalet.",
          "type": "boolean"
        },
        "underordnat": {
          "description": "Detta avtal är underordnat ett annat (t.ex. kan en delegering vara underordnad en anställning), det är ett \"hängavtal\". Giltigheten på detta avtal begränsas därmed av giltigheten på det utpekade avtalet.",
          "$ref": "#/$defs/Anknytningsavtal"
        },
        "underordnade": {
          "description": "Andra avtal som är underordnade detta. De underordnade avtalen kan aldrig vara giltiga när detta avtal inte är det.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Anknytningsavtal"
          }
        },
        "avslutsorsak": {
          "description": "Om vi vill veta varför ett visst avtal har avslutats så kan vi skriva något om det här.",
          "type": "string"
        },
        "avslutsorsakskoder": {
          "description": "aanstperiod.avslutdkod_id -> avslutskod.typ (typ är t.ex. \"1\" för S1). Det finns för t.ex. anställningar formella koder till pensionsmyndigheten (S1-S9). Dessa är taggar som man kan lägga in här.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Tagg"
          }
        },
        "anstallningsnummer": {
          "description": "Anställningsnummer används vid rapporter till Skatteverket med mera.",
          "type": "integer"
        },
        "befattningsnamn": {
          "description": "Befattningarna är lönenära och matchar nästan, men inte riktigt, rollen.",
          "type": "string"
        },
        "befattningskategori": {
          "type": "string"
        },
        "befattningskodSCB": {
          "type": "string"
        },
        "BESTA": {
          "description": "BESTA-kod (9 tecken).",
          "type": "string"
        },
        "skatt": {
          "$ref": "#/$defs/Skatt"
        }
      },
      "required": [
        "typ"
      ]
    },
    "BeraknatAnsvar": {
      "type": "object",
      "description": "BeraknatAnsvar(*, taggar: list[top2.common.Tagg] = None, giltighetsbegransadeTaggar:\nlist[top2.common.MedGiltighetsbegransadTaggning] = None, giltighetsperiod: top2.common.Giltighetsperiod = None,\nutvarderadGiltighet: top2.common.Giltighetsenum = None, typ: top2.common.Tagg, ansvarig: 'Person' = None, berord:\n'Person' = None)",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "typ": {
          "description": "Ansvarstyp (chef, ekonomiskt ansvarig, arbetsledare...)",
          "$ref": "#/$defs/Tagg"
        },
        "ansvarig": {
          "description": "Den person som har ansvaret (t.ex. arbetsledaren).",
          "$ref": "#/$defs/Person"
        },
        "berord": {
          "description": "Den person som ansvaret gäller för (t.ex. den arbetsledde).",
          "$ref": "#/$defs/Person"
        }
      },
      "required": [
        "typ"
      ]
    },
    "Besoksadress": {
      "type": "object",
      "description": "Besöksadress, eventuellt med öppettider.",
      "allOf": [
        {"$ref": "#/$defs/MedSpridning"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "gatuadress": {
          "description": "Gatunamn och nummer.",
          "type": "string"
        },
        "stad": {
          "description": "Stad",
          "type": "string"
        },
        "land": {
          "description": "Land (implicit om det utelämnas)",
          "type": "string"
        },
        "byggnad": {
          "description": "Byggnadsnamn (t.ex. 'Segerstedtska huset')",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "hittaIHuset": {
          "description": "Instruktioner hur man tar sig till besöksplatsen, t.ex. 'en trappa upp i vänster trapphus, rum 2231 på höger sida' eller 'rum 2231 på plan 2'",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "besokstider": {
          "description": "Besökstider.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Besokstider"
          }
        }
      },
      "required": [
        "gatuadress",
        "stad",
        "besokstider"
      ]
    },
    "Besokstider": {
      "type": "object",
      "description": "En post i en lista av öppettider/besökstider.",
      "allOf": [
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "galler": {
          "description": "Beskrivning av när tiderna gäller, t.ex. 'vardagar' eller 'påskafton'.",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "oppnar": {
          "description": "Tid på lokal klocka då besök kan börja.",
          "type": "string"
        },
        "stanger": {
          "description": "Tid på lokal klocka då besök inte längre kan börja.",
          "type": "string"
        },
        "avvikelse": {
          "description": "Beskrivning som ersätter opens/closes, t.ex. \"stängt\".",
          "$ref": "#/$defs/SprakhanteradText"
        }
      },
      "required": [
        "galler"
      ]
    },
    "Bisyssla": {
      "type": "object",
      "description": "Bisyssla(*, foretag: str, organisationsnummer: str, forvantadFortsattning: str, person: 'Person' = None)",
      "properties": {
        "foretag": {
          "description": "BEMANNINGAR är alla formulär BEMANNINGSFALT är alla fälten med namn och kopplat till id i bemanningar BISYSSLA-tabellerna är kopior av BEMANNING-tabellernas innehåll för just bisysslor. För typ combobox är BUFFER kommaseparerade värden... GBEMANNINGSARENDE / GBEMANNINGSARENDEFALT.arende_id aanstallning_id/aperson_id kopplar till individ",
          "type": "string"
        },
        "organisationsnummer": {
          "type": "string"
        },
        "forvantadFortsattning": {
          "type": "string"
        },
        "person": {
          "$ref": "#/$defs/Person"
        }
      },
      "required": [
        "foretag",
        "organisationsnummer",
        "forvantadFortsattning"
      ]
    },
    "Date": {
      "description": "RFC 3339 (ISO-8601) date.",
      "type": "string",
      "pattern": "^((?:(\\d{4}-\\d{2}-\\d{2})$"
    },
    "DateTime": {
      "description": "RFC 3339 (ISO-8601) date and time.",
      "type": "string",
      "pattern": "^((?:(\\d{4}-\\d{2}-\\d{2})T(\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?))(Z|[\\+-]\\d{2}:\\d{2})?)$"
    },
    "ElektroniskAdress": {
      "type": "object",
      "description": "Elektronisk adress",
      "allOf": [
        {"$ref": "#/$defs/MedSpridning"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "media": {
          "description": "Media. Standarden definierar taggar för t.ex. web och epost, men det är fritt att definiera egna för specifika media.",
          "$ref": "#/$defs/Tagg"
        },
        "adress": {
          "description": "Adressen. Utseendet beror på media. För epost är det t.ex. en epostadress, för web en URL.",
          "type": "string"
        }
      },
      "required": [
        "media",
        "adress"
      ]
    },
    "Engangsersattning": {
      "type": "object",
      "description": "Engångsersättning, t.ex. ett arvode.",
      "allOf": [
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "typ": {
          "description": "Typen av ersättning, t.ex. arvode.",
          "$ref": "#/$defs/Tagg"
        },
        "utbetalningsdatum": {
          "$ref": "#/$defs/Date"
        },
        "varde": {
          "description": "Monetärt värde, per utbetalning.",
          "type": "number"
        },
        "valuta": {
          "description": "Valuta",
          "type": "string"
        },
        "konteringar": {
          "description": "Hur summan delas upp på olika konteringar.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Kontering"
          }
        },
        "detaljerarRolltilldelning": {
          "description": "Den rolltilldelningsperiod som denna ersättning detaljerar.",
          "$ref": "#/$defs/Rolltilldelning"
        },
        "detaljerarAnknytningsperiod": {
          "description": "Den anknytningsperiod som denna ersättning detaljerar.",
          "$ref": "#/$defs/Anknytningsavtal"
        }
      },
      "required": [
        "typ",
        "utbetalningsdatum",
        "varde",
        "valuta"
      ]
    },
    "Franvaroperiod": {
      "type": "object",
      "description": "En frånvaroperiod uttrycker semester, föräldraledighet, sjukskrivningar med mera. Det finns möjlighet att ange en\nomfattning om man önskar.",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedFrivilligIdentifierare"},
        {"$ref": "#/$defs/MedTyptagg"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "heltidsandel": {
          "description": "Andel av heltid, som ett flyttal.",
          "type": "number"
        },
        "timmar": {
          "description": "Ett visst antal timmar.",
          "type": "integer"
        },
        "betaldFranvaro": {
          "description": "Betald eller obetald frånvaro.",
          "type": "boolean"
        },
        "slutdatumArPreliminart": {
          "description": "Om sann så är slutdatumet på perioden preliminärt, t.ex. slutdatum på en längre sjukskrivning som kan få en fortsättning. Om falsk så förväntas personens frånvaro sluta enligt giltigheten, t.ex. en beviljad semesterperiod.",
          "type": "boolean"
        },
        "anknyntningsperiod": {
          "description": "Den anknytningsperiod som denna frånvaroperiod detaljerar.",
          "$ref": "#/$defs/Anknytningsavtal"
        }
      }
    },
    "Giltighetsperiod": {
      "type": "object",
      "description": "En tidsperiod inom vilken ett associerat värde är giltigt. Om invalidFrom",
      "properties": {
        "giltigFrom": {
          "$ref": "#/$defs/DateTime"
        },
        "ogiltigFrom": {
          "$ref": "#/$defs/DateTime"
        }
      },
      "required": [
        "giltigFrom"
      ]
    },
    "Hemvistperiod": {
      "type": "object",
      "description": "Säger att den organisatoriska hemvisten för ett visst anknytningsavtal under viss period ligger på en viss orgenhet. Den\norganisatoriska hemvisten används för att beräkna var ansvaret för en person ligger (t.ex. chefsansvar).",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTyptagg"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "organisationsdel": {
          "description": "Den organisatoriska enhet som ansvarar för den person som anknyntningsavtalet gäller.",
          "$ref": "#/$defs/Organisationsdel"
        },
        "anknytningsperiod": {
          "description": "Det anknytningsavtal som denna orghemvist detaljerar.",
          "$ref": "#/$defs/Anknytningsavtal"
        }
      },
      "required": [
        "organisationsdel"
      ]
    },
    "Identifierare": {
      "type": "object",
      "description": "Identifierare med typ och värde. Två identifierare är identiska endast om namnrymd, typnamn, varde och varderymd (om den\när angiven) är identiska. Syftet med namnrymden är att vi är många som kanske vill definiera en typ \"person-id\", och om\nsådana identifierare riskerar att mötas i något system skulle man kunna missta dem som samma identifierare. På samma sätt\nfinns varderymd som är en namnrymd för värdet. Dess syfte är att kunna förmedla identifierare från t.ex. testinstanser\nutan risk att de misstas för skarpa värden.",
      "properties": {
        "namnrymd": {
          "description": "Namnrymd för typen, väsentligen är detta den som definierat typnamnet. Det möjliggör att t.ex. både Chalmers och GU kan ha typer som heter \"person-id\". Skall vara '*' om TOP definierar typen, annars något URL-liknande med minst ett domännamn för den som definierat semantiken för typen.",
          "type": "string"
        },
        "typnamn": {
          "description": "Kombinationen av (typDefinieradAv, typnamn) är en unikt definierad typ av identifierare, med semantik enligt vad typDefinieradAv bestämt.",
          "type": "string"
        },
        "varde": {
          "description": "Värde",
          "type": "string"
        },
        "varderymd": {
          "description": "Domännamn eller liknande identifierare som ger en kontext för kombinationen (schemeAgencyId, schemeId, value) om samma typ+värde finns i olika kontexter (t.ex. olika instanser av samma applikation). Behöver bara användas när det finns en risk att sådana värden möts i samma mottagare. Oftast på formen \"lärosäte.se/applikationsinstans\"",
          "type": "string"
        }
      },
      "required": [
        "namnrymd",
        "typnamn",
        "varde"
      ]
    },
    "Kommunikation": {
      "type": "object",
      "description": "Ett kommunikationsvägar-objekt innehåller upp till fyra listor av adresser/kontaktinformation för fyra olika typer av\nkontakt - epost (och andra elektroniska adresser), telefon (och fax mm), fysiskt besök, och snigelpost. Gemensamt för\nalla typerna är att avsändaren kan förse dem med en lista av vilka kanaler varje adress/nummer får spridas. Till exempel\nså kan Lilla Lärosätets rektor välja att adressen `rektor@lillalarosatet.se` publiceras på externwebben, medan hennes\npersonliga adress `hedda.master@lillalarosatet.se` inte publiceras där. Tillsammans med synligheten kan man också ge en\nprioritet. När man måste bestämma en ordning mellan flera synliga objekt (för att ringa upp, för att visa på personkortet\npå hemsidan, eller för att sortera flera epostadresser t.ex.), så sorterar man dem på fallande värde, och tar det som har\nhögst prioritetsvärde först. Saknas prioritet räknas den som 0.",
      "allOf": [
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "telefon": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Telefonnummer"
          }
        },
        "snigelpost": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Snigelpost"
          }
        },
        "elektronisk": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/ElektroniskAdress"
          }
        },
        "besok": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Besoksadress"
          }
        }
      }
    },
    "Kontering": {
      "type": "object",
      "description": "Kontering(*, taggar: list[top2.common.Tagg] = None, giltighetsbegransadeTaggar:\nlist[top2.common.MedGiltighetsbegransadTaggning] = None, konton: list[top2.common.Identifierare], varde: float)",
      "allOf": [
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "konton": {
          "description": "Alla relevanta ID:n för att göra en tillräckligt detaljerad specifikation (konto, kostnadsställe, mm)",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Identifierare"
          }
        },
        "varde": {
          "description": "Den del av värdet som konteras på detta sätt. När en ersättning konteras skall summan av alla Kontering bli samma som ersättnings totalvärde. Valutan är samma som ersättningens valuta.",
          "type": "number"
        }
      },
      "required": [
        "konton",
        "varde"
      ]
    },
    "KontextualiseradOrganisationsdelsrelation": {
      "type": "object",
      "description": "En kontextualiserad relation med en orgenhet. Används i Organization.filterRelations. Taggen kan t.ex. representera\nfilterkontexten \"en del av\", och peka ut alla orgenheter som en viss orgenhet kan anses vara \"en del av\".",
      "properties": {
        "type": {
          "description": "Den struktur där relationen gäller.",
          "$ref": "#/$defs/Tagg"
        },
        "organisationsdelar": {
          "description": "De organisatoriska delar som pekas ut av relationen i denna struktur.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Organisationsdel"
          }
        }
      },
      "required": [
        "type",
        "organisationsdelar"
      ]
    },
    "LokalUtokning": {
      "type": "object",
      "patternProperties": {
        "^[-_a-zA-Z0-9:/?.@]+$": {
          "type": "object"
        }
      }
    },
    "LopandeErsattning": {
      "type": "object",
      "description": "Löpande ersättningar, t.ex. lön eller tillägg. Vilken typ av ersättning, liksom hur ofta och när den utbetalas, måste\nförstås av typtaggen.",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "typ": {
          "description": "Ersättningstypen, t.ex. månadslön eller lönetillägg.",
          "$ref": "#/$defs/Tagg"
        },
        "varde": {
          "description": "Monetärt värde, per utbetalning.",
          "type": "number"
        },
        "valuta": {
          "description": "Valuta",
          "type": "string"
        },
        "konteringar": {
          "description": "Hur summan delas upp på olika konteringar.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Kontering"
          }
        },
        "detaljerarRolltilldelning": {
          "description": "Den rolltilldelning som denna period detaljerar.",
          "$ref": "#/$defs/Rolltilldelning"
        },
        "detaljerarAnknytningsperiod": {
          "description": "Den anknytningsperiod som denna period detaljerar.",
          "$ref": "#/$defs/Anknytningsavtal"
        }
      },
      "required": [
        "typ",
        "varde",
        "valuta"
      ]
    },
    "MedFrivilligIdentifierare": {
      "type": "object",
      "description": "MedFrivilligIdentifierare(*, postid: top2.common.Identifierare = None, korrelationsidn: list[top2.common.Identifierare] =\nNone, sammanslagnaIdn: list[top2.common.Identifierare] = None, tidigareKorrelationsidn: list[top2.common.Identifierare] =\nNone)",
      "properties": {
        "postid": {
          "description": "Huvudsakligt ID (om något finns). Skall \"aldrig\" ändras, eller i alla fall så sällan det går. Personnummer är dåligt (ändras ofta), medan ett UUID i en lokal personalkatalog kan vara finfint.",
          "$ref": "#/$defs/Identifierare"
        },
        "korrelationsidn": {
          "description": "ID:n som kan återfinnas i andra applikationer eller externa system.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Identifierare"
          }
        },
        "sammanslagnaIdn": {
          "description": "Om denna post är resultatet av att andra poster slagits samman, så ligger ID:na för de därmed borttagna posterna här.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Identifierare"
          }
        },
        "tidigareKorrelationsidn": {
          "description": "Om ett korrelations-id försvinner, t.ex. vid ett personnummerbyte, så skickas det id som tidigare varit korrelations-id här under en tid.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Identifierare"
          }
        }
      }
    },
    "MedGiltighet": {
      "type": "object",
      "description": "MedGiltighet(*, giltighetsperiod: top2.common.Giltighetsperiod = None, utvarderadGiltighet: top2.common.Giltighetsenum =\nNone)",
      "properties": {
        "giltighetsperiod": {
          "description": "Giltighet. Kan innehålla både en giltighetsperiod och en giltighetsenum. Om värdet utelämnas helt så känner avsändaren varken till start- eller slutdatum, bara att objektet är giltigt just nu.",
          "$ref": "#/$defs/Giltighetsperiod"
        },
        "utvarderadGiltighet": {
          "type": "string",
          "enum": [
            "TIDIGARE",
            "AKTUELLT",
            "FRAMTIDA"
          ]
        }
      }
    },
    "MedGiltighetsbegransadTaggning": {
      "type": "object",
      "description": "MedGiltighetsbegransadTaggning(*, giltighetsperiod: top2.common.Giltighetsperiod = None, utvarderadGiltighet:\ntop2.common.Giltighetsenum = None, tagg: top2.common.Tagg)",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"}
      ],
      "properties": {
        "tagg": {
          "description": "Lista över taggar som sitter/satt/kommer sitta på posten under giltigheten.",
          "$ref": "#/$defs/Tagg"
        }
      },
      "required": [
        "tagg"
      ]
    },
    "MedLokalUtokning": {
      "type": "object",
      "description": "Plats att lägga alla sina coola extensions på. Se Extension-typen för en beskrivning av innehållet.",
      "properties": {
        "lokalUtokning": {
          "$ref": "#/$defs/LokalUtokning"
        }
      },
      "required": [
        "lokalUtokning"
      ]
    },
    "MedObligatoriskIdentifierare": {
      "type": "object",
      "description": "MedObligatoriskIdentifierare(*, postid: top2.common.Identifierare, korrelationsidn: list[top2.common.Identifierare] =\nNone, sammanslagnaIdn: list[top2.common.Identifierare] = None, tidigareKorrelationsidn: list[top2.common.Identifierare] =\nNone)",
      "properties": {
        "postid": {
          "description": "Huvudsakligt ID. Skall \"aldrig\" ändras, eller i alla fall så sällan det går. Personnummer är dåligt (ändras ofta), medan ett UUID i en lokal personalkatalog kan vara finfint.",
          "$ref": "#/$defs/Identifierare"
        },
        "korrelationsidn": {
          "description": "ID som kan återfinnas i andra applikationer eller externa system.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Identifierare"
          }
        },
        "sammanslagnaIdn": {
          "description": "Om denna post är resultatet av att andra poster slagits samman, så ligger ID:na för de därmed borttagna posterna här.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Identifierare"
          }
        },
        "tidigareKorrelationsidn": {
          "description": "Om ett korrelations-id försvinner, t.ex. vid ett personnummerbyte, så skickas det id som tidigare varit korrelations-id här under en tid.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Identifierare"
          }
        }
      },
      "required": [
        "postid"
      ]
    },
    "MedSpridning": {
      "type": "object",
      "description": "MedSpridning(*, synligheter: list[top2.common.Spridning] = None)",
      "properties": {
        "synligheter": {
          "description": "Postens synligheter, med postlokal ranking per synlighet.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Spridning"
          }
        }
      }
    },
    "MedTaggning": {
      "type": "object",
      "description": "MedTaggning(*, taggar: list[top2.common.Tagg] = None, giltighetsbegransadeTaggar:\nlist[top2.common.MedGiltighetsbegransadTaggning] = None)",
      "properties": {
        "taggar": {
          "description": "Lista över taggar som sitter på posten just nu, där vi inte känner till någon historik/framtid.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Tagg"
          }
        },
        "giltighetsbegransadeTaggar": {
          "description": "Lista över taggar som suttit/sitter/kommer att sitta på posten, där vi känner till historik/framtid.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/MedGiltighetsbegransadTaggning"
          }
        }
      }
    },
    "MedTyptagg": {
      "type": "object",
      "description": "MedTyptagg(*, typ: top2.common.Tagg)",
      "properties": {
        "typ": {
          "description": "En ensam tag som representerar objektets typ.",
          "$ref": "#/$defs/Tagg"
        }
      },
      "required": [
        "typ"
      ]
    },
    "Omfattningsperiod": {
      "type": "object",
      "description": "En mängd arbetstid som personen i kontexten av ett anknytningsavtal förväntas utföra (en omfattningsperiod). Kan antingen\nvara ett visst antal timmar (hours) eller en del av heltid (fullTimeEquivalentRatio). Kan alltså tillsammans med\ngiltighetstider uttrycka '200 timmar under 2023', '20% under januari 2024' och '95% av en heltid löpande'. Syftet är att\növerföra förutsättningar, inte utfall. Avsikten är alltså inte att den skall representera en timrapport.",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedTyptagg"},
        {"$ref": "#/$defs/MedFrivilligIdentifierare"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "heltidsandel": {
          "description": "Andel av heltid, som ett flyttal.",
          "type": "number"
        },
        "timmar": {
          "description": "Ett visst antal timmar.",
          "type": "integer"
        },
        "timmarPerDag": {
          "description": "Fördelning av timmar över veckodagar.",
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "rolltilldelning": {
          "description": "Den rolltilldelning som denna omfattningsperiod detaljerar.",
          "$ref": "#/$defs/Rolltilldelning"
        },
        "anknytningsperiod": {
          "description": "Den anknytningsperiod som denna omfattningsperiod detaljerar.",
          "$ref": "#/$defs/Anknytningsavtal"
        }
      }
    },
    "Organisationsdel": {
      "type": "object",
      "description": "Representerar någon form av gruppering som är viktig för hur lärosätet organiserar en viss aspekt av sitt arbete. Inga\ngränser sätts för vad som är eller inte är en organisationsdel, varje lärosäte avgör utifrån behov och förmåga. Exempel\npå möjliga orgenheter är: * Fakultet * Institution * Utbildningsprogram (om lärosätet har matrisorganisation t.ex.) *\nAdministrativ enhet * Utvecklingsprojekt (kanske bara centralt finansierade eller av viss storlek) * Kurstillfälle (ur\ngenomförande perspektivet) * Centran (av viss storlek, eller även \"kaffereps-centran\") * Excellensinitiativ (ja, det\nbegreppet finns på ett lärosäte) Gemensamt är att de är väl definierade grupper med gemensamma mål och tydliga relationer\ntill andra organisationsdelar, där någon person ansvarar för gruppens ekonomi, och någon person ansvarar för att\narbetsleda gruppens gemensamma arbete.",
      "allOf": [
        {"$ref": "#/$defs/MedObligatoriskIdentifierare"},
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "namn": {
          "description": "Orgenhetens namn.",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "typer": {
          "description": "Orgenhetens typ(er). Övriga taggningar som inte kan sägas vara dess typ läggs i stället i de vanliga taggningsattributen. \"Institution\" är t.ex. tydligt en typ av organisation, men om \"resultatenhet\" är en typ eller en taggning är upp till varje lärosäte att avgöra.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Tagg"
          }
        },
        "kommunikationsvagar": {
          "description": "Kommunikationsvägar till orgenheten som abstrakt entitet, t.ex. en info@institution-epostadress.",
          "$ref": "#/$defs/Kommunikation"
        },
        "rolltilldelningar": {
          "description": "Rolltilldelningar, som knyter personer till orgenheten i betydelsen att de utför arbete åt den.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Rolltilldelning"
          }
        },
        "servicefunktioner": {
          "description": "Servicefunktioner (t.ex. expeditioner) som erbjuder tjänster för denna orgenhet.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Servicefunktion"
          }
        },
        "motpartForAnknytningsavtal": {
          "description": "Anknytningsavtal för vilka denna orgenhet är motpart. Används t.ex. för att hitta vem som är en persons lönesättande chef.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Hemvistperiod"
          }
        },
        "ansvarshallare": {
          "description": "Personer med vissa ansvar för denna orgenhet, utpekade personligen eller via en rolltilldelning.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Organisationsdelsansvar"
          }
        },
        "foralderrelationer": {
          "description": "Relationer som definierar denna orgenhets förälder/föräldrar. Andra änden av OrganizationalRelation.child.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/OrganisatoriskRelation"
          }
        },
        "barnrelationer": {
          "description": "Relationer som definierar denna orgenhets barn. Andra änden av OrganizationalRelation.parent.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/OrganisatoriskRelation"
          }
        },
        "filterrelationer": {
          "description": "Orgenheter som är relevanta för filtrering, uppdelade per relationstyp. Vanligt är t.ex. relationen 'en del av', där man för orgenhet X har en lista av alla orgenheter som X anses vara 'en del av'.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/KontextualiseradOrganisationsdelsrelation"
          }
        }
      }
    },
    "Organisationsdelsansvar": {
      "type": "object",
      "description": "Ansvar för viss orgenhet, antingen tilldelat personligen eller via en rolltilldelning.",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedFrivilligIdentifierare"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "typ": {
          "description": "Ansvarstyp(er) (chef, ekonomiskt ansvarig, arbetsledare...)",
          "$ref": "#/$defs/Tagg"
        },
        "organisationsdel": {
          "description": "Den organisation för vilken ansvaret gäller.",
          "$ref": "#/$defs/Organisationsdel"
        },
        "viaRolltilldelningar": {
          "description": "Rolltilldelning(ar) via vilken ansvaret tilldelats (t.ex. tilldelning av chefsroll)",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Rolltilldelning"
          }
        },
        "direktUtpekade": {
          "description": "Individ(er) som fått ansvaret personligen tilldelat.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Person"
          }
        }
      },
      "required": [
        "typ"
      ]
    },
    "OrganisatoriskRelation": {
      "type": "object",
      "description": "Vi har alla någon form av struktur bland våra organisationsdelar. Det är vanligt att ha flera olika strukturer, t.ex.: *\nlinjeträd som representerar arbetsrättsliga ansvar * attestträd som representerar ekonomiska beslutsvägar *\norganisationsträd i Ladok som representerar beslutsvägar för examination. * ett träd som visas ut på hemsidan. För vissa\nlärosäten kanske träden är identiska, men för de flesta skiljer sig dessa träd åt. Det är däremot långt ifrån vanligt att\nha flera än två-tre av dessa dimensioner i ett IT-system. Varje organisationsdelsrelation representerar ett riktat\nförhållande i något av träden som lägger en organisationsdel \"under\" en annan under någon tidsperiod. Ur relationens\nperspektiv så pekar den ut en \"förälder\" och ett \"barn\". Ur organisationsdelarnas perspektiv så har de `[0..*]`\nrelationer som pekar ut dess föräldrar i olika träd, och `[0..*]` relationer som pekar ut dess barn.",
      "allOf": [
        {"$ref": "#/$defs/MedObligatoriskIdentifierare"},
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "typer": {
          "description": "Den/de strukturer/träd/perspektiv som denna relation gäller för.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Tagg"
          }
        },
        "foralder": {
          "description": "Den orgenhet som är förälder/ovanför i denna relation. Andra änden av Organization.childRelations.",
          "$ref": "#/$defs/Organisationsdel"
        },
        "barn": {
          "description": "Den orgenhet som är barn/under i denna relation. Andra änden av Organization.parentRelations.",
          "$ref": "#/$defs/Organisationsdel"
        }
      },
      "required": [
        "typer"
      ]
    },
    "Passerbehorighet": {
      "type": "object",
      "description": "En passerbehörighet, identifierad av ett för mottagaren meningsfullt ID. Tilldelningen av behörigheten görs till en\nperson eller ett passerkort.",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "postid": {
          "description": "Behörighetens ID (inte resursen behörigheten gäller för).",
          "$ref": "#/$defs/Identifierare"
        },
        "resursId": {
          "description": "ID på den resurs som behörigheten gäller för (inte behörighetens egna ID om ett sådant finns).",
          "$ref": "#/$defs/Identifierare"
        },
        "tilldeladPersoner": {
          "description": "De person(er) som tilldelats behörigheten.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Person"
          }
        },
        "tilldeladPasserkort": {
          "description": "De passerkort som tilldelats behörigheten.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Passerkort"
          }
        }
      },
      "required": [
        "postid",
        "resursId",
        "tilldeladPersoner",
        "tilldeladPasserkort"
      ]
    },
    "Passerkort": {
      "type": "object",
      "description": "Ett passerkort och de behörigheter detta kort skall vara försedda med. Om behörigheter knyts till personen snarare än\ntill dennes kort så används istället PersonType.accessPrivileges. Notera att giltighetstider i detta objekt rör\npasserkortet i sig, behörigheterna har egna giltighetstider.",
      "allOf": [
        {"$ref": "#/$defs/MedFrivilligIdentifierare"},
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "passerbehorigheter": {
          "description": "Behörigheter som kortet skall förknippas med (behörigheter för individ läggs i Person.accessPrivileges)",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Passerbehorighet"
          }
        }
      }
    },
    "Person": {
      "type": "object",
      "description": "En person av kött och blod. Datat är så normaliserat som avsändaren klarar av - i normalfallet motsvaras varje fysisk\nperson av som mest _en_ datapost. Ingen avsändare skall t.ex. skicka flera personposter med olika ID:n när en person har\nflera parallella anställningar. Personobjekt innehåller vissa rena individegenskaper, t.ex. namn och diverse\nidentifierare (t.ex. personnummer). Kontaktinformation till personen, både i professionell och privat kontext kan också\nfinnas med här. Den främsta informationen framkommer dock i hur personen hänger ihop med lärosätets organisation, vilket\nbeskrivs av _anknytningsavtal_ och _rolltilldelningar_.",
      "allOf": [
        {"$ref": "#/$defs/MedObligatoriskIdentifierare"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"},
        {"$ref": "#/$defs/MedGiltighet"}
      ],
      "properties": {
        "fornamn": {
          "description": "APERSON fornamn/efternamn Förnamn (alla)",
          "type": "string"
        },
        "tilltalsnamn": {
          "description": "Tilltalsnamn. Om vi har alla namn så skickas samtliga i fornamn, och tilltalsnamnet här. Får vara ett smeknamn.",
          "type": "string"
        },
        "efternamn": {
          "description": "Efternamn (inklusive eventuella mellannamn).",
          "type": "string"
        },
        "formatteratNamn": {
          "description": "Färdigformatterat namn, med stora/små bokstäver (t.ex. \"Stefan Ponzi von Tillman och Ovar mcPherson\"",
          "type": "string"
        },
        "kommunikationsvagar": {
          "description": "aperson.adress_id -> primulaadress Kommunikationsvägar till personen som individ",
          "$ref": "#/$defs/Kommunikation"
        },
        "passerbehorigheter": {
          "description": "Accessbehörigheter som personen skall ha, oavsett vilket passerkort hen använder.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Passerbehorighet"
          }
        },
        "passerkort": {
          "description": "Passerkort inklusive eventuella behörigheter för kortet i sig snarare än för personen.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Passerkort"
          }
        },
        "anknytningsavtal": {
          "description": "Anknytningsavtal för denna person.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Anknytningsavtal"
          }
        },
        "rolltilldelningar": {
          "description": "Rolltilldelningar för denna person.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Rolltilldelning"
          }
        },
        "avliden": {
          "type": "boolean"
        },
        "utbildningsniva": {
          "description": "personkompetens.kompskikt_id -> kompskikt (t.ex. docent) Uppnådd utbildningsnivå (t.ex. vid rekrytering)",
          "$ref": "#/$defs/Tagg"
        },
        "docentLarosate": {
          "description": "personkompetens.kompskikt_id -> kompskikt (t.ex. docent) Är du inte docent, pojk?!",
          "type": "string"
        },
        "docentAmne": {
          "description": "personkompetens.kompinriktning_id -> kompinriktning.text",
          "type": "string"
        },
        "statligAnstallningFrom": {
          "description": "aperson Statlig anställning fortsätter när du byter lärosäte t.ex.",
          "$ref": "#/$defs/Date"
        },
        "forskningsamne": {
          "description": "aanstallning.amnestillhor -> amnestillhor.kod/text1 Forskningsämnen behöver rapporteras som ämneskoder för jämförelser mellan lärosäten. Lista på \"SCB forskningsämnen\" LiU använder 3 första (101 Matematik) andra alla 5.",
          "type": "string"
        },
        "forskningsamneSCB": {
          "type": "string"
        },
        "arbetsstalleID": {
          "description": "aperson.arbetsstallenr_id -> arbetsstallekod Arbetsställe-ID fås från och rapporteras till SCB.",
          "type": "integer"
        },
        "arbetsplatsAdress": {
          "description": "aperson.arbetsstallenr_id -> arbetsstallekod Arbetsplatsadress skall rapporteras till Skatteverket kräver gatuadress eller GPS-koordinat.",
          "type": "string"
        },
        "personligaAnsvar": {
          "description": "Personligt tilldelade ansvar.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Organisationsdelsansvar"
          }
        },
        "beraknadeAnsvar": {
          "description": "Alla ansvar denna person kan beräknas ha för andra personer.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/BeraknatAnsvar"
          }
        },
        "omfattasAvAnsvar": {
          "description": "Alla ansvar andra personer kan beräknas ha över denna person\",",
          "type": "array",
          "items": {
            "$ref": "#/$defs/BeraknatAnsvar"
          }
        },
        "bisysslor": {
          "description": "Registrerade bisysslor",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Bisyssla"
          }
        }
      }
    },
    "Roll": {
      "type": "object",
      "description": "En viss roll - en uppsättning arbetsuppgifter och ansvar t.ex. 'Studievägledare' eller 'Rektor'. Personer kan agera i en\nroll (d.v.s. utföra de arbetsuppgifter som rollen beskriver), men rollen i sig kan inte utföra något. De personer som\nförväntas agera i en viss roll på en viss orgenhet har en rolltilldelning där.",
      "allOf": [
        {"$ref": "#/$defs/MedObligatoriskIdentifierare"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "namn": {
          "description": "Rollens namn, t.ex. {'sv': 'Studievägledare', 'en': 'Study counsellor'}",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "beskrivning": {
          "description": "Beskrivning av rollen, t.ex. vilka arbetsuppgifter och ansvar som ingår i den.",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "rolltilldelningar": {
          "description": "Rolltilldelningar för denna roll.",
          "$ref": "#/$defs/Rolltilldelning"
        }
      }
    },
    "Rolltilldelning": {
      "type": "object",
      "description": "En rolltilldelning säger att en person förväntas agera i en viss roll för en viss del av organisationen under viss tid.\nFörhoppningsvis har personen också tilldelats möjligheten att uppfylla de ansvar som rollen medför - eller så används\nRolltilldelningen som bas för att automatiskt utdela sådana behörigheter. Det är rekommenderat (men inte tvingande) att\npeka ut det anknytningsavtal inom vilket denna rolltilldelning skett. Många personer agerar i flera olika roller på ett\nlärosäte i kontexten av t.ex. en anställning, och det ger tydlighet att peka ut den kontexten. Om ett avtal pekas ut, så\nbegränsas rolltilldelningens giltighet både av sin egen giltighet men även av giltigheten på det utpekade\nanknytningsavtalet.",
      "allOf": [
        {"$ref": "#/$defs/MedObligatoriskIdentifierare"},
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "anknyntningsavtal": {
          "description": "Det anknytningsavtal som denna rolltilldelning detaljerar. Reverse: Anknytningsavtal.rolltilldelningar",
          "$ref": "#/$defs/Anknytningsavtal"
        },
        "organisationsdel": {
          "description": "Den del av organisationen där personen tilldelats rollen.",
          "$ref": "#/$defs/Organisationsdel"
        },
        "kommunikationsvagar": {
          "description": "Kommunikationsvägar till personen i kontexten av denna rolltilldelning.",
          "$ref": "#/$defs/Kommunikation"
        },
        "roll": {
          "description": "Den roll som personen tilldelas.",
          "$ref": "#/$defs/Roll"
        },
        "onfattningsperioder": {
          "description": "Omfattning(ar) för denna rolltilldelning.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Omfattningsperiod"
          }
        },
        "lopandeErsattningsperioder": {
          "description": "Lönetillägg eller andra extra ersättningar som personen får för denna rolltilldelning. Kan vara flera, och kan variera under giltighetstiden. Lön läggs i avtalsperioden.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/LopandeErsattning"
          }
        },
        "engangsersattningar": {
          "description": "Engångsersättningar för denna rolltilldelning.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Engangsersattning"
          }
        },
        "ansvarsperioder": {
          "description": "De ansvar som denna rolltilldelning medför (t.ex. linjechefsansvar för en orgenhet tilldelat av en rolltilldelning som enhetschef. Andra änden av OrganizationResponsibility.deployment.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Organisationsdelsansvar"
          }
        },
        "ansvarsperioderForTilldelningen": {
          "description": "Personliga ansvar tilldelade någon annan för denna rolltilldelning (t.ex. handledarskap för en rolltilldelning som praktikant). Andra änden av DeploymentResponsibility.deployment.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Rolltilldelningsansvar"
          }
        },
        "bemannarServicefunktioner": {
          "description": "De servicefunktioner (om några) som bemannas via denna rolltilldelning. En specifik rolltilldelning som studievägledare kan t.ex. innebära att man bemannar en studentmottagning.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Servicefunktion"
          }
        }
      }
    },
    "Rolltilldelningsansvar": {
      "type": "object",
      "description": "Ansvar för person som har viss rolltilldelning, t.ex. att vara handledare för en viss praktikant.",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedFrivilligIdentifierare"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "typ": {
          "description": "Ansvarstyp(er) (arbetsledare, handledare...)",
          "$ref": "#/$defs/Tagg"
        },
        "ansvarig": {
          "description": "Den person som har ansvaret (t.ex. handledaren).",
          "$ref": "#/$defs/Person"
        },
        "rolltilldelning": {
          "description": "Rolltilldelningen som responsiblePerson ansvarar för (t.ex. rolltilldelningen som säger att någon är praktikant).",
          "$ref": "#/$defs/Rolltilldelning"
        }
      },
      "required": [
        "typ"
      ]
    },
    "Servicefunktion": {
      "type": "object",
      "description": "En servicefunktion, t.ex. en expedition, handläggargrupp, eller annat sätt att utföra arbete som inte direkt relaterar\ntill en specifik rolltilldelning. Servicefunktionerna kan tillhöra en eller flera orgenheter. Både fysiska expeditioner\nmed besökstider och handläggargrupper i ett ärendehanteringssystem kan representeras som servicefunktioner.",
      "allOf": [
        {"$ref": "#/$defs/MedFrivilligIdentifierare"},
        {"$ref": "#/$defs/MedGiltighet"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "namn": {
          "description": "Servicefunktionens namn, t.ex. \"Datatekniska institutionens expedition\".",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "beskrivning": {
          "description": "En beskrivning, t.ex. \"Hjälper dig att klaga på tentor och säger nej till passerkortsbehörigheter\"",
          "$ref": "#/$defs/SprakhanteradText"
        },
        "kommunikationsvagar": {
          "description": "Kommunikationsvägar till servicefunktionen (inklusive eventuella besökstider).",
          "$ref": "#/$defs/Kommunikation"
        },
        "bemannadViaRolltilldelningar": {
          "description": "Den eller de rolltilldelningar via vilka servicefunktionen bemannas. För en studentmottagning kan man t.ex. peka ut de rolltilldelningar som studievägledare som gör att vissa personer förväntas bemanna mottagningen.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Rolltilldelning"
          }
        },
        "organisationsdelar": {
          "description": "De organisatoriska delar för vilka denna servicefunktion tillhandahåller tjänster.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Organisationsdel"
          }
        }
      },
      "required": [
        "namn"
      ]
    },
    "Skatt": {
      "type": "object",
      "description": "Skatt(*, giltighetsperiod: top2.common.Giltighetsperiod = None, utvarderadGiltighet: top2.common.Giltighetsenum = None,\nSINK: float, tabell: str, kolumn: str, procskatt: float, jamkning: float, ungdomsskatt: bool)",
      "allOf": [
        {"$ref": "#/$defs/MedGiltighet"}
      ],
      "properties": {
        "SINK": {
          "type": "number"
        },
        "tabell": {
          "type": "string"
        },
        "kolumn": {
          "type": "string"
        },
        "procskatt": {
          "type": "number"
        },
        "jamkning": {
          "type": "number"
        },
        "ungdomsskatt": {
          "type": "boolean"
        }
      },
      "required": [
        "SINK",
        "tabell",
        "kolumn",
        "procskatt",
        "jamkning",
        "ungdomsskatt"
      ]
    },
    "Snigelpost": {
      "type": "object",
      "description": "Färdigformatterad postadress, eventuellt med kopior av vanliga filtrerings- och sorteringsvärden i egna fält.",
      "allOf": [
        {"$ref": "#/$defs/MedSpridning"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "formatteradAdress": {
          "description": "Formatterad adress, sådan den skrivs på ett kuvert som postas på svensk brevlåda.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "landskod": {
          "description": "Kopia av landskoden från formattedAddress.",
          "type": "string"
        },
        "landsnamn": {
          "description": "Kopia av landsnamn från formattedAddress.",
          "type": "string"
        },
        "postnummer": {
          "description": "Kopia av postnumret från formattedAddress",
          "type": "string"
        },
        "postort": {
          "description": "Kopia av postort från formattedAddress.",
          "type": "string"
        }
      },
      "required": [
        "formatteradAdress"
      ]
    },
    "SprakhanteradText": {
      "type": "object",
      "patternProperties": {
        "^[a-z]{2,3}$": {
          "type": "string"
        }
      }
    },
    "Spridning": {
      "type": "object",
      "description": "Spridning(*, synlighet: top2.common.Tagg, ranking: int = None)",
      "properties": {
        "synlighet": {
          "description": "En tag som beskriver ett sätt posten får spridas (t.ex. internt, intranät, extranät...)",
          "$ref": "#/$defs/Tagg"
        },
        "ranking": {
          "description": "Om flera poster av samma typ möts i ovanstående medium (t.ex. att flera rolltilldelningar för samma person är synliga på en personsida på intranätet), så sorteras de utifrån rankingvärdet. Lägst värde vinner. Om flera objekt har samma ranking så väljer mottagaren godtyckligt.",
          "type": "integer"
        }
      },
      "required": [
        "synlighet"
      ]
    },
    "Tagg": {
      "type": "object",
      "description": "En tag - en egenskap uttryckt som en boolesk variabel med ett sant värde. Dessa definieras oftast av lärosätet själva för\natt uttrycka egenskaper som 'anställningsliknande förhållande' på en person eller 'linjeorganisation' på en\norganisatorisk del. Upplägget är i princip identiskt med identifierare, med utökningen att man kan skicka med en\nspråkhanterad text för att visa taggen för människor. \"varderymden\" används för att lärosätena skall kunna skapa lokala\ntaggar av en gemensamt överenskommen typ. Till exempel kan vi komma överens om att ha en tagtyp \"anställningsform\", där\nChalmers vill ha någon egen variant. Då sätter Chalmers \"chalmers.se\" som värderymd på den taggen.",
      "properties": {
        "namnrymd": {
          "description": "Namnrymd för typen, väsentligen är detta den som definierat typnamnet. Det möjliggör att t.ex. både Chalmers och GU kan ha typer som heter \"person-id\". Skall vara '*' om TOP definierar typen, annars något URL-liknande med minst ett domännamn för den som definierat semantiken för typen.",
          "type": "string"
        },
        "typnamn": {
          "description": "Kombinationen av (typDefinieradAv, typnamn) är en unikt definierad typ av identifierare, med semantik enligt vad typDefinieradAv bestämt.",
          "type": "string"
        },
        "varde": {
          "description": "Värde",
          "type": "string"
        },
        "varderymd": {
          "description": "Domännamn eller liknande identifierare som ger en kontext för kombinationen (schemeAgencyId, schemeId, value) om samma typ+värde finns i olika kontexter (t.ex. olika instanser av samma applikation). Behöver bara användas när det finns en risk att sådana värden möts i samma mottagare. Oftast på formen \"lärosäte.se/applikationsinstans\"",
          "type": "string"
        },
        "namn": {
          "description": "Beskrivning av taggen avsedd för mänsklig konsumtion. Inte värdebärande - varje avsändare kan egentligen lägga lite vad de vill här. Mottagaren skall _inte_ agera på .name, bara på kombinationen namnrymd/typnamn/varde/varderymd.",
          "$ref": "#/$defs/SprakhanteradText"
        }
      },
      "required": [
        "namnrymd",
        "typnamn",
        "varde"
      ]
    },
    "Telefonnummer": {
      "type": "object",
      "description": "Telefonnummer.",
      "allOf": [
        {"$ref": "#/$defs/MedSpridning"},
        {"$ref": "#/$defs/MedTaggning"},
        {"$ref": "#/$defs/MedLokalUtokning"}
      ],
      "properties": {
        "nummer": {
          "description": "Universellt telefonnummer inklusive landskod, utan separerare, t.ex. +46317721000",
          "type": "string",
          "pattern": "[+][0-9]{6,}"
        },
        "formatterat": {
          "description": "Telefonnummer i visuellt format, t.ex. +46 (0)31-772 10 00",
          "type": "string",
          "pattern": "[+]?[-0-9() ]{6,}"
        },
        "kanTaEmotSMS": {
          "description": "Går det att skicka SMS till detta telefonnummer? Saknat värde tolkas som 'nej'.",
          "type": "boolean"
        }
      },
      "required": [
        "nummer",
        "kanTaEmotSMS"
      ]
    }
  },
  "type": "object",
  "description": "Toppobjekt med enkla och listvärda referenser till samtliga värdeobjekt. Bra grund för meddelanden, även t.ex. en lysande\ntopp-Query för ett GraphQL-gränssnitt.",
  "properties": {
    "anknytningsperiod": {
      "$ref": "#/$defs/Anknytningsavtal"
    },
    "anknytningsperioder": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Anknytningsavtal"
      }
    },
    "organisationsdel": {
      "$ref": "#/$defs/Organisationsdel"
    },
    "organisationsdelar": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Organisationsdel"
      }
    },
    "passerkort": {
      "$ref": "#/$defs/Passerkort"
    },
    "passerkortslista": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Passerkort"
      }
    },
    "passerbehorighet": {
      "$ref": "#/$defs/Passerbehorighet"
    },
    "passerbehorigheter": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Passerbehorighet"
      }
    },
    "person": {
      "$ref": "#/$defs/Person"
    },
    "personer": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Person"
      }
    },
    "roll": {
      "$ref": "#/$defs/Roll"
    },
    "roller": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Roll"
      }
    },
    "rolltilldelning": {
      "$ref": "#/$defs/Rolltilldelning"
    },
    "rolltilldelningar": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Rolltilldelning"
      }
    }
  },
  "unevaluatedProperties": false
}